{"ast":null,"code":"export const Auth = {\n  _token: null,\n\n  get isLoggedIn() {\n    return !!this._token;\n  },\n\n  init() {\n    try {\n      const token = window.localStorage.getItem('token');\n      this._token = JSON.parse(token);\n    } catch (err) {\n      console.error(err);\n    }\n  },\n\n  login() {\n    // todo request to server\n    this._token = 'token';\n\n    this._storeToken();\n  },\n\n  logout() {\n    this._token = null;\n\n    try {\n      window.localStorage.removeItem('token');\n    } catch (err) {\n      console.error(err);\n    }\n  },\n\n  _storeToken() {\n    try {\n      localStorage.setItem('token', JSON.stringify(this._token));\n    } catch (err) {\n      console.error(err);\n    }\n  }\n\n};\nexport function init() {\n  Auth.init();\n}","map":{"version":3,"sources":["/mnt/c/Users/Mila/Documents/apiko-course-2019/lesson-6/src/scenes/api/Api.js"],"names":["Auth","_token","isLoggedIn","init","token","window","localStorage","getItem","JSON","parse","err","console","error","login","_storeToken","logout","removeItem","setItem","stringify"],"mappings":"AAAA,OAAO,MAAMA,IAAI,GAAG;AAClBC,EAAAA,MAAM,EAAE,IADU;;AAElB,MAAIC,UAAJ,GAAiB;AACf,WAAO,CAAC,CAAC,KAAKD,MAAd;AACD,GAJiB;;AAKlBE,EAAAA,IAAI,GAAG;AACL,QAAI;AACF,YAAMC,KAAK,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAd;AACA,WAAKN,MAAL,GAAcO,IAAI,CAACC,KAAL,CAAWL,KAAX,CAAd;AACD,KAHD,CAGE,OAAOM,GAAP,EAAY;AACZC,MAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACD;AACF,GAZiB;;AAalBG,EAAAA,KAAK,GAAG;AACN;AACA,SAAKZ,MAAL,GAAc,OAAd;;AAEA,SAAKa,WAAL;AACD,GAlBiB;;AAoBlBC,EAAAA,MAAM,GAAG;AACP,SAAKd,MAAL,GAAc,IAAd;;AACA,QAAI;AACFI,MAAAA,MAAM,CAACC,YAAP,CAAoBU,UAApB,CAA+B,OAA/B;AACD,KAFD,CAEE,OAAON,GAAP,EAAY;AACZC,MAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACD;AACF,GA3BiB;;AA6BlBI,EAAAA,WAAW,GAAG;AACZ,QAAI;AACFR,MAAAA,YAAY,CAACW,OAAb,CAAqB,OAArB,EAA8BT,IAAI,CAACU,SAAL,CAAe,KAAKjB,MAApB,CAA9B;AACD,KAFD,CAEE,OAAOS,GAAP,EAAY;AACZC,MAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACD;AACF;;AAnCiB,CAAb;AAsCP,OAAO,SAASP,IAAT,GAAgB;AACrBH,EAAAA,IAAI,CAACG,IAAL;AACD","sourcesContent":["export const Auth = {\r\n  _token: null,\r\n  get isLoggedIn() {\r\n    return !!this._token;\r\n  },\r\n  init() {\r\n    try {\r\n      const token = window.localStorage.getItem('token');\r\n      this._token = JSON.parse(token);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  },\r\n  login() {\r\n    // todo request to server\r\n    this._token = 'token';\r\n\r\n    this._storeToken();\r\n  },\r\n\r\n  logout() {\r\n    this._token = null;\r\n    try {\r\n      window.localStorage.removeItem('token');\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  },\r\n\r\n  _storeToken() {\r\n    try {\r\n      localStorage.setItem('token', JSON.stringify(this._token));\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  },\r\n};\r\n\r\nexport function init() {\r\n  Auth.init();\r\n}\r\n"]},"metadata":{},"sourceType":"module"}